<!--
 * @Author: LIXINTAO
 * @Version: 
 * @Date: 2022-03-18 19:44:28
<<<<<<< Updated upstream
 * @LastEditTime: 2022-03-20 01:09:07
=======
 * @LastEditTime: 2022-03-22 21:19:18
>>>>>>> Stashed changes
 * @LastEditors: LIXINTAO
 * @Description: 
-->
# Code_Base
 步兵和英雄的代码仓库

## V1.0.0
实现通信基本代码，上下板通信出现CAN的FIFO缓存塞满问题。

## V1.6.0
本版本已实现代码为主，暂时从简不做代码修改

* 说明：
  1. 串口部分：串口6作为裁判系统通信、串口3作为超级电容的通信、串口1作数据可视化
  2. CAN：底盘使用CAN1，云台以及YAW轴电机使用CAN2通信
  3. LED：1号代表初始化失败LED、2号代表通信失败、3号代表控制逻辑失败、4号代表测试代码部分失败
  4. 电机ID必须严格执行，只能挂载1、2、3、4号电机，否者需要将ID设置为1\2\3\4
  5. 使用角度制！！！（这是很大的改变）
* 待修改部分：
<<<<<<< Updated upstream
1. 修改bsp_motor.c 考虑到兰清宇向我反馈过在发送时频率过高导致CAN的FIFO撑满情况，但是这份文件的发送函数里每次无条件会发送两次，因此需要做出部分更改。
2. 对于超级电容通信部分通信代码不变，显得繁琐，待改进。
=======
1. 对于超级电容通信部分通信代码不变，显得繁琐，待改进。
2. 修改bsp_motor.c 考虑到兰清宇向我反馈过在发送时频率过高导致CAN的FIFO撑满情况，但是这份文件的发送函数里每次无条件会发送两次，还可能抢占云台板对于YAW的通信，因此做出修改。

## V1.8.0
* 已修改：
1. 修改bsp_motor.c，只保留其电机数据发送函数，解包函数统一放在数据解包CanReceiveDecom.c中运行
* 修改BUG
修改通信部分，对于CAN的FIFO只能一次连续发送三包数据，多了会造成缓存区满而出现数据丢包甚至发不出去。采用同步任务的方法解决。

## V2.0.0
* 增添底盘运动控制逻辑代码，包含小陀螺，随动，功率闭环。
* 未添加：超级电容自动管理，速度提升方案
  
## V2.0.1
* 添加亮灯错误指示函数
  
## V2.5.1Beta
* 添加功率超限直接削减输入
* 添加缓冲函数
  
![系数0.3](/img/缓冲函数模拟0.3.png)

![系数0.7](/img/缓冲函数模拟.png)

![系数1.1](/img/缓冲函数模拟1.1.png)

记录BUG：
数据可视化任务DVTask串口发送多字节会造成程序可能性卡死，暂时没有找到原因。会进入HardDefault函数😥
修复尝试：1. 已降低数据可视化任务优先级，但是没用。
          2. 使用DMA降低CPU压力，没有，并非线程buzy

## V2.8.0
* 修改部分BUG，底盘功率超限返回限制输入已完善
* 数据可视化串口任务存在BUG，详细见注释
* 添加缓增函数，并修复其BUG

待修补：1. 串口BUG

下一步添加：1. 电容的自动控制逻辑
>>>>>>> Stashed changes
